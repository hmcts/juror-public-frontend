{% extends "../layouts/default.njk" %}

{% block page_title %}
  {% include "../includes/title-error.njk" %}
  {% if user.thirdParty == 'Yes' %}
  {{ texts.LOGIN_PAGE.HEADING_OB }} - {{ texts.INTERFACE.GOV }}
  {% else %}
  {{ texts.LOGIN_PAGE.HEADING }} - {{ texts.INTERFACE.GOV }}
  {% endif %}
{% endblock %}

{% block page_identifier %}Login{% endblock %}

{% block content %}

<div class="grid-row">

  <div class="column-two-thirds">

    {% include "../includes/back-link.njk" %}
    {% include "../includes/errors.njk" %}

    <h1 class="heading-xlarge">
      {% if user.thirdParty == 'Yes' %}
      {{ texts.LOGIN_PAGE.HEADING_OB }}
      {% else %}
      {{ texts.LOGIN_PAGE.HEADING }}
      {% endif %}
    </h1>

    <p>             
      {% if user.thirdParty == 'Yes' %}
        {{ texts.LOGIN_PAGE.SAMPLE_TITLE_OB }}
      {% else %}
        {{ texts.LOGIN_PAGE.SAMPLE_TITLE }}
      {% endif %}
    </p>

    <img src="/img/example-juror-number.png" alt="{{ texts.LOGIN_PAGE.SAMPLE_IMAGE_ALT }}" title="{{ texts.LOGIN_PAGE.IMAGE_TITLE }}">
    <br><br>

    <form action="{{ url('steps.login.post') }}" method="POST" id="login-form" {% if not IS_PRODUCTION %}novalidate{% endif %}>
      <div id="authenticationGroup">
        <div class="form-group {% if errors.items['jurorNumber'] %}error{% endif %}" id="jurorNumberGroup">
          <label class="form-label" for="jurorNumber">
            <strong class="bold-small">
              {{ texts.LOGIN_PAGE.FIELD_JUROR_NUMBER_TITLE }}
            </strong>
          </label>
          {% if errors.items['jurorNumber'] %}<span class="error-message" id="jurorNumberGroupError">{{ errors.items['jurorNumber'][0].details }}</span>{% endif %}
          <input class="form-control" name="jurorNumber" id="jurorNumber" type="number" pattern="[0-9]*" inputmode="numeric" minlength="9" maxlength="9" autocomplete="off" {% if errors.items['jurorNumber'] %}aria-describedby="jurorNumberGroupError"{% endif %}>
        </div>

        <div class="form-group">
          <details>
            <summary><span class="summary" {% if trackingCode %}onclick="trackVirtualPageViews('I don\'t have a juror number')"{% endif %}>
              {% if user.thirdParty == 'Yes' %}
              {{ texts.LOGIN_PAGE.GUIDANCE_TITLE_OB }}
              {% else %}
              {{ texts.LOGIN_PAGE.GUIDANCE_TITLE }}
              {% endif %}</span></summary>
            <div class="panel panel-border-narrow" id="details-content-0" aria-hidden="true">
              <p>
                {% if user.thirdParty == 'Yes' %}
                {{ texts.LOGIN_PAGE.GUIDANCE_INTRO_OB }}
                {% else %}
                {{ texts.LOGIN_PAGE.GUIDANCE_INTRO }}
                {% endif %}
              </p>

              <p>
                <strong class="bold-small">{{ texts.LOGIN_PAGE.GUIDANCE_COMPANY_NAME }}</strong><br>
                <a href="mailto:{{ texts.LOGIN_PAGE.GUIDANCE_EMAIL }}">{{ texts.LOGIN_PAGE.GUIDANCE_EMAIL }}</a><br>

                {% if texts.INTERFACE.HTML_LANG === "cy" %}
                  {% if texts.INTERFACE.CONTACT_TELEPHONE_1 %}
                    {{ texts.INTERFACE.CONTACT_TELEPHONE_LABEL_1 }}<a href="{{ texts.INTERFACE.CONTACT_TELEPHONE_LINK_1 }}">{{ texts.INTERFACE.CONTACT_TELEPHONE_1}}</a>
                  {% endif %}
                  <br>
                  {% if texts.INTERFACE.CONTACT_TELEPHONE_2 %}
                    {{ texts.INTERFACE.CONTACT_TELEPHONE_LABEL_2 }}<a href="{{ texts.INTERFACE.CONTACT_TELEPHONE_LINK_2 }}">{{ texts.INTERFACE.CONTACT_TELEPHONE_2}}</a>
                  {% endif %}
                  <br>
                {% else %}
                  {{ texts.INTERFACE.CONTACT_TELEPHONE_LABEL_1 }}<a href="{{ texts.INTERFACE.CONTACT_TELEPHONE_LINK_1 }}">{{ texts.INTERFACE.CONTACT_TELEPHONE_1}}</a>
                  <br>
                {% endif %}

                {{ texts.LOGIN_PAGE.GUIDANCE_OPENING_TIMES }}<br>
                {{ texts.LOGIN_PAGE.GUIDANCE_OPENING_TIMES_FRIDAY }}<br>
                <a href="{{ texts.LOGIN_PAGE.GUIDANCE_CALL_CHARGE_LINK }}">{{ texts.LOGIN_PAGE.GUIDANCE_CALL_CHARGE_LABEL }}</a>
              </p>

              <p>
                {{ texts.LOGIN_PAGE.GUIDANCE_ADDRESS_LINE_1 }}<br>
                {{ texts.LOGIN_PAGE.GUIDANCE_ADDRESS_LINE_2 }}<br>
                {{ texts.LOGIN_PAGE.GUIDANCE_ADDRESS_LINE_3 }}<br>
                {{ texts.LOGIN_PAGE.GUIDANCE_ADDRESS_LINE_4 }}
              </p>
            </div>
          </details>
        </div>

        <div class="form-group {% if errors.items['jurorLastName'] %}error{% endif %}" id="jurorLastNameGroup">
          <label class="form-label" for="jurorLastName">
            <strong class="bold-small">
              {{ texts.LOGIN_PAGE.FIELD_LAST_NAME_TITLE }}
            </strong>
            <span class="form-hint">{% if user.thirdParty == 'Yes' %}
              {{ texts.LOGIN_PAGE.FIELD_LAST_NAME_HINT_OB }}
              {% else %}
              {{ texts.LOGIN_PAGE.FIELD_LAST_NAME_HINT }}
            {% endif %}</span>
            {% if errors.items['jurorLastName'] %}<span class="error-message" id="jurorLastNameGroupError">{{ errors.items['jurorLastName'][0].details }}</span>{% endif %}
          </label>
          <input class="form-control" name="jurorLastName" id="jurorLastName" type="text" maxlength="20" autocomplete="off" {% if errors.items['jurorLastName'] %}aria-describedby="jurorLastNameGroupError"{% endif %}>
        </div>

        <div class="form-group {% if errors.items['jurorPostcode'] %}error{% endif %}" id="jurorPostcodeGroup">
          <label class="form-label" for="jurorPostcode">
            <strong class="bold-small">
              {{ texts.LOGIN_PAGE.FIELD_POSTCODE_TITLE }}
            </strong>
            <span class="form-hint">{% if user.thirdParty == 'Yes' %}
              {{ texts.LOGIN_PAGE.FIELD_POSTCODE_HINT_OB }}
              {% else %}
              {{ texts.LOGIN_PAGE.FIELD_POSTCODE_HINT }}
            {% endif %}</span>
            {% if errors.items['jurorPostcode'] %}<span class="error-message" id="jurorPostcodeGroupError">{{ errors.items['jurorPostcode'][0].details }}</span>{% endif %}
          </label>
          <input class="form-control" name="jurorPostcode" id="jurorPostcode" type="text" autocomplete="off" {% if errors.items['jurorPostcode'] %}aria-describedby="jurorPostcodeGroupError"{% endif %}>
        </div>
      </div>

      <input class="button" type="submit" value="{{ texts.INTERFACE.BUTTON_TEXT_CONTINUE }}">
      <input type="hidden" name="_csrf" value="{{csrftoken}}">

    </form>
  </div>
</div>
{% endblock %}
